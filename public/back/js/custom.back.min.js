"use strict";var map,lat,lng,Datepicker=function(){var t=$(".datepicker");t.length&&t.each(function(){$(this).datepicker({disableTouchKeyboard:!0,autoclose:!1})})}(),CopyIcon=function(){var t,e=".btn-icon-clipboard",a=$(e);a.length&&((t=a).tooltip().on("mouseleave",function(){t.tooltip("hide")}),new ClipboardJS(e).on("success",function(t){$(t.trigger).attr("title","Copied!").tooltip("_fixTitle").tooltip("show").attr("title","Copy to clipboard").tooltip("_fixTitle"),t.clearSelection()}))}(),FormControl=function(){var t=$(".form-control");t.length&&t.on("focus blur",function(t){$(this).parents(".form-group").toggleClass("focused","focus"===t.type||0<this.value.length)}).trigger("blur")}(),$map=$("#map-canvas"),color="#5e72e4";function initMap(){map=document.getElementById("map-canvas"),lat=map.getAttribute("data-lat"),lng=map.getAttribute("data-lng");var t=new google.maps.LatLng(lat,lng),e={zoom:12,scrollwheel:!1,center:t,mapTypeId:google.maps.MapTypeId.ROADMAP,styles:[{featureType:"administrative",elementType:"labels.text.fill",stylers:[{color:"#444444"}]},{featureType:"landscape",elementType:"all",stylers:[{color:"#f2f2f2"}]},{featureType:"poi",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"road",elementType:"all",stylers:[{saturation:-100},{lightness:45}]},{featureType:"road.highway",elementType:"all",stylers:[{visibility:"simplified"}]},{featureType:"road.arterial",elementType:"labels.icon",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"all",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"all",stylers:[{color:color},{visibility:"on"}]}]};map=new google.maps.Map(map,e);var a=new google.maps.Marker({position:t,map:map,animation:google.maps.Animation.DROP,title:"Hello World!"}),n=new google.maps.InfoWindow({content:'<div class="info-window-content"><h2>Argon Dashboard</h2><p>A beautiful Dashboard for Bootstrap 4. It is Free and Open Source.</p></div>'});google.maps.event.addListener(a,"click",function(){n.open(map,a)})}$map.length&&google.maps.event.addDomListener(window,"load",initMap);var Navbar=function(){var t=$(".navbar-nav, .navbar-nav .nav"),e=$(".navbar .collapse"),a=$(".navbar .dropdown");e.on({"show.bs.collapse":function(){var a;(a=$(this)).closest(t).find(e).not(a).collapse("hide")}}),a.on({"hide.bs.dropdown":function(){var t,e;t=$(this),(e=t.find(".dropdown-menu")).addClass("close"),setTimeout(function(){e.removeClass("close")},200)}})}(),NavbarCollapse=function(){$(".navbar-nav");var t=$(".navbar .collapse");t.length&&(t.on({"hide.bs.collapse":function(){t.addClass("collapsing-out")}}),t.on({"hidden.bs.collapse":function(){t.removeClass("collapsing-out")}}))}(),noUiSlider=function(){if($(".input-slider-container")[0]&&$(".input-slider-container").each(function(){var t=$(this).find(".input-slider"),e=t.attr("id"),a=t.data("range-value-min"),n=t.data("range-value-max"),o=$(this).find(".range-slider-value"),r=o.attr("id"),s=o.data("range-value-low"),i=document.getElementById(e),l=document.getElementById(r);noUiSlider.create(i,{start:[parseInt(s)],connect:[!0,!1],range:{min:[parseInt(a)],max:[parseInt(n)]}}),i.noUiSlider.on("update",function(t,e){l.textContent=t[e]})}),$("#input-slider-range")[0]){var t=document.getElementById("input-slider-range"),e=document.getElementById("input-slider-range-value-low"),a=document.getElementById("input-slider-range-value-high"),n=[e,a];noUiSlider.create(t,{start:[parseInt(e.getAttribute("data-range-value-low")),parseInt(a.getAttribute("data-range-value-high"))],connect:!0,range:{min:parseInt(t.getAttribute("data-range-value-min")),max:parseInt(t.getAttribute("data-range-value-max"))}}),t.noUiSlider.on("update",function(t,e){n[e].textContent=t[e]})}}(),Popover=function(){var t=$('[data-toggle="popover"]'),e="";t.length&&t.each(function(){!function(t){t.data("color")&&(e="popover-"+t.data("color"));var a={trigger:"focus",template:'<div class="popover '+e+'" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'};t.popover(a)}($(this))})}(),ScrollTo=function(){var t=$(".scroll-me, [data-scroll-to], .toc-entry a");t.length&&t.on("click",function(t){var e,a,n,o;a=(e=$(this)).attr("href"),n=e.data("scroll-to-offset")?e.data("scroll-to-offset"):0,o={scrollTop:$(a).offset().top-n},$("html, body").stop(!0,!0).animate(o,600),event.preventDefault()})}(),Tooltip=function(){var t=$('[data-toggle="tooltip"]');t.length&&t.tooltip()}(),Charts=function(){var t,e=$('[data-toggle="chart"]'),a={base:"Open Sans"},n={gray:{100:"#f6f9fc",200:"#e9ecef",300:"#dee2e6",400:"#ced4da",500:"#adb5bd",600:"#8898aa",700:"#525f7f",800:"#32325d",900:"#212529"},theme:{default:"#172b4d",primary:"#5e72e4",secondary:"#f4f5f7",info:"#11cdef",success:"#2dce89",danger:"#f5365c",warning:"#fb6340"},black:"#12263F",white:"#FFFFFF",transparent:"transparent"};function o(t,e){for(var a in e)"object"!=typeof e[a]?t[a]=e[a]:o(t[a],e[a])}return window.Chart&&o(Chart,(t={defaults:{global:{responsive:!0,maintainAspectRatio:!1,defaultColor:n.gray[600],defaultFontColor:n.gray[600],defaultFontFamily:a.base,defaultFontSize:13,layout:{padding:0},legend:{display:!1,position:"bottom",labels:{usePointStyle:!0,padding:16}},elements:{point:{radius:0,backgroundColor:n.theme.primary},line:{tension:.4,borderWidth:4,borderColor:n.theme.primary,backgroundColor:n.transparent,borderCapStyle:"rounded"},rectangle:{backgroundColor:n.theme.warning},arc:{backgroundColor:n.theme.primary,borderColor:n.white,borderWidth:4}},tooltips:{enabled:!1,mode:"index",intersect:!1,custom:function(t){var e=$("#chart-tooltip");if(e.length||(e=$('<div id="chart-tooltip" class="popover bs-popover-top" role="tooltip"></div>'),$("body").append(e)),0!==t.opacity){if(t.body){var a=t.title||[],n=t.body.map(function(t){return t.lines}),o="";o+='<div class="arrow"></div>',a.forEach(function(t){o+='<h3 class="popover-header text-center">'+t+"</h3>"}),n.forEach(function(e,a){t.labelColors[a].backgroundColor;var r=1<n.length?"justify-content-left":"justify-content-center";o+='<div class="popover-body d-flex align-items-center '+r+'"><span class="badge badge-dot"><i class="bg-primary"></i></span>'+e+"</div>"}),e.html(o)}var r=$(this._chart.canvas),s=(r.outerWidth(),r.outerHeight(),r.offset().top),i=r.offset().left,l=e.outerWidth(),c=e.outerHeight(),d=s+t.caretY-c-16,u=i+t.caretX-l/2;e.css({top:d+"px",left:u+"px",display:"block","z-index":"100"})}else e.css("display","none")},callbacks:{label:function(t,e){var a=e.datasets[t.datasetIndex].label||"",n=t.yLabel,o="";return 1<e.datasets.length&&(o+='<span class="badge badge-primary mr-auto">'+a+"</span>"),o+'<span class="popover-body-value">'+n+"</span>"}}}},doughnut:{cutoutPercentage:83,tooltips:{callbacks:{title:function(t,e){return e.labels[t[0].index]},label:function(t,e){return""+'<span class="popover-body-value">'+e.datasets[0].data[t.index]+"</span>"}}},legendCallback:function(t){var e=t.data,a="";return e.labels.forEach(function(t,n){var o=e.datasets[0].backgroundColor[n];a+='<span class="chart-legend-item">',a+='<i class="chart-legend-indicator" style="background-color: '+o+'"></i>',a+=t,a+="</span>"}),a}}}},Chart.scaleService.updateScaleDefaults("linear",{gridLines:{borderDash:[2],borderDashOffset:[2],color:n.gray[300],drawBorder:!1,drawTicks:!1,lineWidth:0,zeroLineWidth:0,zeroLineColor:n.gray[300],zeroLineBorderDash:[2],zeroLineBorderDashOffset:[2]},ticks:{beginAtZero:!0,padding:10,callback:function(t){if(!(t%10))return t}}}),Chart.scaleService.updateScaleDefaults("category",{gridLines:{drawBorder:!1,drawOnChartArea:!1,drawTicks:!1},ticks:{padding:20},maxBarThickness:10}),t)),e.on({change:function(){var t=$(this);t.is("[data-add]")&&function(t){var e=t.data("add"),a=$(t.data("target")).data("chart");t.is(":checked")?function t(e,a){for(var n in a)Array.isArray(a[n])?a[n].forEach(function(t){e[n].push(t)}):t(e[n],a[n])}(a,e):function t(e,a){for(var n in a)Array.isArray(a[n])?a[n].forEach(function(t){e[n].pop()}):t(e[n],a[n])}(a,e),a.update()}(t)},click:function(){var t=$(this);t.is("[data-update]")&&function(t){var e=t.data("update"),a=$(t.data("target")).data("chart");o(a,e),function(t,e){if(void 0!==t.data("prefix")||void 0!==t.data("prefix")){var a=t.data("prefix")?t.data("prefix"):"",n=t.data("suffix")?t.data("suffix"):"";e.options.scales.yAxes[0].ticks.callback=function(t){if(!(t%10))return a+t+n},e.options.tooltips.callbacks.label=function(t,e){var o=e.datasets[t.datasetIndex].label||"",r=t.yLabel,s="";return 1<e.datasets.length&&(s+='<span class="popover-body-label mr-auto">'+o+"</span>"),s+'<span class="popover-body-value">'+a+r+n+"</span>"}}}(t,a),a.update()}(t)}}),{colors:n,fonts:a,mode:"light"}}(),OrdersChart=function(){var t,e,a=$("#chart-orders");$('[name="ordersSelect"]'),a.length&&(t=a,e=new Chart(t,{type:"bar",options:{scales:{yAxes:[{ticks:{callback:function(t){if(!(t%10))return t}}}]},tooltips:{callbacks:{label:function(t,e){var a=e.datasets[t.datasetIndex].label||"",n=t.yLabel,o="";return 1<e.datasets.length&&(o+='<span class="popover-body-label mr-auto">'+a+"</span>"),o+'<span class="popover-body-value">'+n+"</span>"}}}},data:{labels:["Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Sales",data:[25,20,30,22,17,29]}]}}),t.data("chart",e))}(),SalesChart=function(){var t,e,a=$("#chart-sales");a.length&&(t=a,e=new Chart(t,{type:"line",options:{scales:{yAxes:[{gridLines:{color:Charts.colors.gray[900],zeroLineColor:Charts.colors.gray[900]},ticks:{callback:function(t){if(!(t%10))return"$"+t+"k"}}}]},tooltips:{callbacks:{label:function(t,e){var a=e.datasets[t.datasetIndex].label||"",n=t.yLabel,o="";return 1<e.datasets.length&&(o+='<span class="popover-body-label mr-auto">'+a+"</span>"),o+'<span class="popover-body-value">$'+n+"k</span>"}}}},data:{labels:["May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],datasets:[{label:"Performance",data:[0,20,10,30,15,40,20,60,60]}]}}),t.data("chart",e))}(),Doctors={slug:function(){var t=$("#slug").data("route"),e=$("#name").val();$("#name").change(function(){var a=$("#name").val(),n=$("#id_doctor").val();$("#btn-save").button("loading"),$.ajax({type:"post",url:t,dataType:"json",data:{title:a,title_before:e,id:n,mod:"doctor"}}).done(function(t){$("#slug").val(t.data.slug);var e=$("#slug-url").data("slug")+"/"+t.data.slug;$("#slug-url").html(e),$("#slug-url").attr("href",e)}).fail(function(t){}).always(function(){$("#btn-save").button("reset")})}).change()},eliminateMessages:function(){$("#name").blur(function(){""==!$(this).val()&&$("#name + p").html("")}),$("#excerpt").blur(function(){""==!$(this).val()&&$("#excerpt + p").html("")})},createDoctor:function(){var t=$("#doctor-form");t.validate({rules:{name:{required:!0,minlength:2,lettersonly:!0},lastname:{required:!0,minlength:2,lettersonly:!0},phone:{number:!0,minlength:9},rut:{required:!0,minlength:6,maxlength:9},email:"email",excerpt:"required",imgurl:"required",specialty:"required"},messages:{name:{required:"El nombre es un campo requerido",minlength:"Escriba un nombre más largo",lettersonly:"Solo se permiten letras"},lastname:{required:"El apellido es un campo requerido",minlength:"Escriba un apellido más largo",lettersonly:"Solo se permiten letras"},phone:{number:"Ingrese un teléfono válido",minlength:"Ingrese un teléfono válido"},rut:{required:"El rut es un campo requerido",minlength:"No es un rut válido",maxlength:"No es un rut válido"},email:"El email no es válido",excerpt:"El extracto es un campo requerido",imgurl:"No ha agregado una imagen",specialty:"Al menos una especialidad es requerida"}}),$("#btn-save").click(function(){if(t.valid()){$(this).button("loading");var e=new FormData(document.getElementById("doctor-form"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status){toastr.success(t.message,"!Exitoso!"),$("#doctor-form")[0].reset(),$(".invalid-feedback").html(""),$("#canvas").cropper("destroy"),$("#office").val(null).trigger("change"),$("#specialty").val(null).trigger("change");var e=$("#slug-url").data("slug");$("#slug-url").html(e)}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),jQuery.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z áãâäàéêëèíîïìóõôöòúûüùçñ]+$/i.test(t)},"Letters and spaces only please")},editDoctor:function(){var t=$("#doctor-form");t.validate({rules:{name:{required:!0,minlength:2,lettersonly:!0},lastname:{required:!0,minlength:2,lettersonly:!0},phone:{number:!0,minlength:9},rut:{required:!0,minlength:6,maxlength:9},email:"email",excerpt:"required",imgurl:"required",specialty:"required"},messages:{name:{required:"El nombre es un campo requerido",minlength:"Escriba un nombre más largo",lettersonly:"Solo se permiten letras"},lastname:{required:"El apellido es un campo requerido",minlength:"Escriba un apellido más largo",lettersonly:"Solo se permiten letras"},phone:{number:"Ingrese un teléfono válido",minlength:"Ingrese un teléfono válido"},rut:{required:"El rut es un campo requerido",minlength:"No es un rut válido",maxlength:"No es un rut válido"},email:"El email no es válido",excerpt:"El extracto es un campo requerido",imgurl:"No ha agregado una imagen",specialty:"Al menos una especialidad es requerida"}}),$("#btn-save").click(function(){if(t.valid()){$(this).button("loading");var e=new FormData(document.getElementById("doctor-form"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),jQuery.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z áãâäàéêëèíîïìóõôöòúûüùçñ]+$/i.test(t)},"Letters and spaces only please")},imageUploadDoctor:function(t){var e=$("#canvas"),a=e.get(0).getContext("2d");$("#result"),$("#fileInput").on("change",function(){if(this.files&&this.files[0])if(this.files[0].type.match(/^image\//)){$("#btnCrop").prop("disabled",!1);var t=new FileReader;t.onload=function(t){var n=new Image;n.onload=function(){e.cropper("destroy");var t=n.width,o=n.height;a.canvas.height=o,a.canvas.width=t,a.drawImage(n,0,0,t,o),e.cropper({aspectRatio:1,background:!0,autoCropArea:1,viewMode:1,width:500,height:500})},n.src=t.target.result},t.readAsDataURL(this.files[0])}else alert("Invalid file type! Please select an image file.");else alert("No file(s) selected.")}),$("#btnCrop").click(function(a){a.preventDefault(),$(".imagen-add").html(""),$(this).button("loading");var n=e.cropper("getCroppedCanvas").toDataURL("image/png");$.ajax({type:"post",url:t,dataType:"json",data:{img:n}}).done(function(t){var e=t.data.img_url;$("#imgurl").val(t.data.img_name),$("#avatar-doctor").attr("src",e),$("#modal-notification").modal("hide")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btnCrop").button("reset")})})},allDoctors:function(){var t=$(".datatable-doctors").data("route");$(".datatable-doctors").DataTable({processing:!0,serverSide:!1,ajax:t,responsive:!0,order:[[4,"desc"]],columns:[{data:"file",width:"100px",render:function(t,e,a,n){return'<a class="avatar avatar-sm"><img src="'+t+'" class="rounded-circle "></a>'}},{data:"name",width:"100px",render:function(t,e,a,n){return'<a href="'+a.route+'">'+t+"</a>"}},{data:"phone",width:"100px"},{data:"email",width:"100px"},{data:"status",width:"80px",render:function(t,e,a,n){return"INACTIVE"==t?'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" data-on="Activo" data-off="Inactivo" data-onstyle="info" data-size="small">':'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" checked data-on="Activo" data-off="Inactivo"  data-onstyle="info" data-size="small">'}},{data:"route",width:"120px",visible:!1},{data:"id",width:"120px",visible:!1}],columnDefs:[{className:"cdatatable-td",targets:[0]},{className:"cdatatable-td",targets:[1]},{className:"cdatatable-td",targets:[2]},{className:"cdatatable-td",targets:[3]},{className:"cdatatable-td",targets:[4]}],fnInitComplete:function(){$(".toggle-check").bootstrapToggle(),$(".datatable-doctors").css("width","100%")},fnDrawCallback:function(){$(".toggle-check").bootstrapToggle()},lengthMenu:[[10,25,50,100,200,300,400,500],[10,25,50,100,200,300,400,500]]}).columns.adjust().draw()},changeStatus:function(){$(document).on("click",".toggle",function(){var t=$(this).find("input.toggle-check"),e=t.is(":checked")?"ACTIVE":"INACTIVE";$.ajax({type:"post",url:$(".datatable-doctors").data("route-status"),data:{id:t.data("id"),status:e}}).done(function(t){}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){})})}},Posts={slug:function(){var t=$("#slug").data("route"),e=$("#name").val();$("#name").change(function(){var a=$("#name").val(),n=$("#id_post").val();$("#btn-save").button("loading"),$.ajax({type:"post",url:t,dataType:"json",data:{title:a,title_before:e,id:n,mod:"post"}}).done(function(t){$("#slug").val(t.data.slug);var e=$("#slug-url").data("slug")+"/"+t.data.slug;$("#slug-url").html(e),$("#slug-url").attr("href",e)}).fail(function(t){}).always(function(){$("#btn-save").button("reset")})}).change()},editHTML:function(){$("#body").summernote({height:200})},eliminateMessages:function(){$("#name").blur(function(){""==!$(this).val()&&$("#name + p").html("")}),$("#excerpt").blur(function(){""==!$(this).val()&&$("#excerpt + p").html("")})},imageUpload:function(t){$.uploadPreview({input_field:"#image",preview_box:"#image-preview",label_field:"#image-label",label_default:t,label_selected:t})},tagsInput:function(){$('input[name="tags"]').amsifySuggestags({type:"amsify"})},createPost:function(){var t=$("#post"),e=t.validate({rules:{name:{required:!0,minlength:5},excerpt:"required",body:"required",image:"required"},messages:{name:{required:"El titulo es un campo requerido",minlength:"Escriba un titulo más largo"},excerpt:"El extracto es un campo requerido",body:"No ha agregado contenido",image:"No ha agregado una imagen"},ignore:":hidden, [contenteditable='true']:not([body])"});$("#btn-save").click(function(e){if(e.preventDefault(),t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("post"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status){toastr.success(t.message,"!Exitoso!"),$("#post")[0].reset(),$("#body").summernote("reset"),$("#image-preview").css("background-image",""),$(".invalid-feedback").html(""),$(".amsify-suggestags-input-area").remove(".amsify-select-tag");var e=$("#slug-url").data("slug");$("#slug-url").html(e)}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#body").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},editPost:function(){var t=$("#post"),e=t.validate({rules:{name:{required:!0,minlength:5},excerpt:"required",body:"required"},messages:{name:{required:"El titulo es un campo requerido",minlength:"Escriba un titulo más largo"},excerpt:"El extracto es un campo requerido",body:"No ha agregado contenido"},ignore:":hidden, [contenteditable='true']:not([body])"});$("#btn-save").click(function(e){if(t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("post"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#body").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},allPosts:function(){var t=$(".datatable-posts").data("route");$(".datatable-posts").DataTable({processing:!0,serverSide:!1,ajax:t,responsive:!0,order:[[4,"desc"]],columns:[{data:"title",width:"100px",render:function(t,e,a,n){return'<a href="'+a.route+'">'+t+"</a>"}},{data:"category",width:"100px"},{data:"tags",width:"100px",render:function(t,e,a,n){var o="";return jQuery.each(t,function(t,e){o+='<span class="badge badge-info">'+e+"</span>"}),o}},{data:"created",width:"120px"},{data:"status",width:"80px",render:function(t,e,a,n){return"DRAFT"==t?'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" data-on="Publicado" data-off="Borrador" data-onstyle="info" data-size="small">':'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" checked data-on="Publicado" data-off="Borrador"  data-onstyle="info" data-size="small">'}},{data:"route",width:"120px",visible:!1},{data:"id",width:"120px",visible:!1}],columnDefs:[{className:"cdatatable-td",targets:[0]},{className:"cdatatable-td",targets:[1]},{className:"cdatatable-td",targets:[2]},{className:"cdatatable-td",targets:[3]},{className:"cdatatable-td",targets:[4]}],fnInitComplete:function(){$(".toggle-check").bootstrapToggle(),$(".datatable-posts").css("width","100%")},fnDrawCallback:function(){$(".toggle-check").bootstrapToggle()},lengthMenu:[[10,25,50,100,200,300,400,500],[10,25,50,100,200,300,400,500]]}).columns.adjust().draw()},changeStatus:function(){$(document).on("click",".toggle",function(){var t=$(this).find("input.toggle-check"),e=t.is(":checked")?"PUBLISHED":"DRAFT";$.ajax({type:"post",url:$(".datatable-posts").data("route-status"),data:{id:t.data("id"),status:e}}).done(function(t){}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){})})},datePicker:function(){var t=$("#date-range");t.daterangepicker({autoApply:!0,opens:"left",startDate:moment(),endtDate:moment(),showDropdowns:!0,showWeekNumbers:!0,buttonClasses:["btn btn-sm"],applyClass:" blue",cancelClass:"default",format:"DD/MM/YYYY",separator:" to ",locale:{applyLabel:"Aceptar",cancelLabel:"Cancelar",fromLabel:"Desde",toLabel:"Hasta",customRangeLabel:"Rango Personalizado",daysOfWeek:["Do","Lu","Ma","Mi","Ju","Vi","Sa"],monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],firstDay:1}},function(t,e){$("#date-range span").html(t.format("MMMM D, YYYY")+" - "+e.format("MMMM D, YYYY"))}),$("#date-range span").html(moment().format("MMMM D, YYYY")+" - "+moment().format("MMMM D, YYYY")),$("#start_date").val(moment().format("YYYY-MM-DD")),$("#end_date").val(moment().format("YYYY-MM-DD")),t.on("apply.daterangepicker",function(t,e){$("#start_date").val(e.startDate.format("YYYY-MM-DD")),$("#end_date").val(e.endDate.format("YYYY-MM-DD"))})}},Offices={slug:function(){var t=$("#slug").data("route"),e=$("#name").val();$("#name").change(function(){var a=$("#name").val(),n=$("#id_office").val();$("#btn-save").button("loading"),$.ajax({type:"post",url:t,dataType:"json",data:{title:a,title_before:e,id:n,mod:"office"}}).done(function(t){$("#slug").val(t.data.slug);var e=$("#slug-url").data("slug")+"/"+t.data.slug;$("#slug-url").html(e),$("#slug-url").attr("href",e)}).fail(function(t){}).always(function(){$("#btn-save").button("reset")})}).change()},editHTML:function(){$("#body").summernote({height:200})},eliminateMessages:function(){$("#name").blur(function(){""==!$(this).val()&&$("#name + p").html("")}),$("#excerpt").blur(function(){""==!$(this).val()&&$("#excerpt + p").html("")})},imageUpload:function(t){$.uploadPreview({input_field:"#image",preview_box:"#image-preview",label_field:"#image-label",label_default:t,label_selected:t})},createOffice:function(){var t=$("#office");t.validate({rules:{name:{required:!0,minlength:3},phone:{number:!0,minlength:9,required:!0},map:"required",address:"required",image:"required"},messages:{name:{required:"El titulo es un campo requerido",minlength:"Escriba un titulo más largo"},phone:{number:"Solo se permiten numeros",minlength:"Escriba un número válido",required:"El número es requerido"},map:"El map es un campo requerido",address:"No ha agregado la dirección",image:"No ha agregado una imagen"}}),$("#btn-save").click(function(e){if(e.preventDefault(),t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("office"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status){toastr.success(t.message,"!Exitoso!"),$("#office")[0].reset(),$("#image-preview").css("background-image",""),$(".invalid-feedback").html("");var e=$("#slug-url").data("slug");$("#slug-url").html(e)}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}})},editOffice:function(){var t=$("#office");t.validate({rules:{name:{required:!0,minlength:3},phone:{number:!0,minlength:9,required:!0},map:"required",address:"required"},messages:{name:{required:"El titulo es un campo requerido",minlength:"Escriba un titulo más largo"},phone:{number:"Solo se permiten numeros",minlength:"Escriba un número válido",required:"El número es requerido"},map:"El map es un campo requerido",address:"No ha agregado la dirección"}}),$("#btn-save").click(function(e){if(e.preventDefault(),t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("office"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}})},selectOffice:function(t){var e=$("#office");e.select2({multiple:!0,tags:!1,placeholder:"...",maximumSelectionSize:6,minimumInputLength:1,tokenSeparators:[","," "],createTag:function(t){return{id:t.term,text:t.term}},templateResult:function(t){return t.name},templateSelection:function(t){return t.name},escapeMarkup:function(t){return t},ajax:{url:e.data("route"),dataType:"json",global:!1,cache:!0,delay:250,data:function(t){return{q:t.term}},processResults:function(t){return{results:t.data.tags}}}})},selectOfficeEdit:function(){$("#office").select2({tags:!1,multiple:!0,tokenSeparators:[","," "]})},allOffices:function(){var t=$(".datatable-offices").data("route");$(".datatable-offices").DataTable({processing:!0,serverSide:!1,ajax:t,responsive:!0,order:[[1,"asc"]],columns:[{data:"name",width:"100px",render:function(t,e,a,n){return'<a href="'+a.route+'">'+t+"</a>"}},{data:"phone",width:"100px"},{data:"address",width:"100px"},{data:"route",visible:!1},{data:"id",visible:!1}],columnDefs:[{className:"cdatatable-td",targets:[0]},{className:"cdatatable-td",targets:[1]},{className:"cdatatable-td",targets:[2]},{className:"cdatatable-td",targets:[3]}],fnInitComplete:function(){$(".datatable-offices").css("width","100%")},fnDrawCallback:function(){$(".toggle-check").bootstrapToggle()},lengthMenu:[[10,25,50,100,200,300,400,500],[10,25,50,100,200,300,400,500]]}).columns.adjust().draw()}},Surgery={slug:function(){var t=$("#slug").data("route"),e=$("#name").val();$("#name").change(function(){var a=$("#name").val(),n=$("#id_surgery").val();$("#btn-save").button("loading"),$.ajax({type:"post",url:t,dataType:"json",data:{title_before:e,title:a,id:n,mod:"surgery"}}).done(function(t){$("#slug").val(t.data.slug);var e=$("#slug-url").data("slug")+"/"+t.data.slug;$("#slug-url").html(e),$("#slug-url").attr("href",e)}).fail(function(t){}).always(function(){$("#btn-save").button("reset")})}).change()},editHTML:function(){$("#indications").summernote({height:200}),$("#preparation").summernote({height:200}),$("#description").summernote({height:200})},editSurgery:function(){var t=$("#surgery"),e=t.validate({rules:{name:{required:!0,minlength:5},description:"required"},messages:{name:{required:"El título es un campo requerido",minlength:"Escriba un título más largo"},description:"No ha agregado contenido"},ignore:":hidden, [contenteditable='true']:not([body])"});$("#btn-save").click(function(e){if(e.preventDefault(),t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("surgery"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#body").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},createSurgery:function(){var t=$("#surgery"),e=t.validate({rules:{name:{required:!0,minlength:5},description:"required",image:"required"},messages:{name:{required:"El título es un campo requerido",minlength:"Escriba un título más largo"},description:"No ha agregado contenido",image:"No ha agregado una imagen"},ignore:":hidden, [contenteditable='true']:not([body])"});$("#btn-save").click(function(e){if(e.preventDefault(),t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("surgery"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status){toastr.success(t.message,"!Exitoso!"),$("#surgery")[0].reset(),$("#description").summernote("reset"),$("#preparation").summernote("reset"),$("#indications").summernote("reset"),$("#image-preview").css("background-image",""),$(".invalid-feedback").html(""),$("#office").val(null).trigger("change");var e=$("#slug-url").data("slug");$("#slug-url").html(e)}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#body").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},imageUpload:function(t){$.uploadPreview({input_field:"#image",preview_box:"#image-preview",label_field:"#image-label",label_default:t,label_selected:t})},allSurgeries:function(){var t=$(".datatable-surgeries").data("route");$(".datatable-surgeries").DataTable({processing:!0,serverSide:!1,ajax:t,responsive:!0,order:[[4,"desc"]],columns:[{data:"name",width:"100px",render:function(t,e,a,n){return'<a href="'+a.route+'">'+t+"</a>"}},{data:"created",width:"120px"},{data:"status",width:"80px",render:function(t,e,a,n){return"DRAFT"==t?'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" data-on="Publicado" data-off="Borrador" data-onstyle="info" data-size="small">':'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" checked data-on="Publicado" data-off="Borrador"  data-onstyle="info" data-size="small">'}},{data:"route",visible:!1},{data:"id",visible:!1}],columnDefs:[{className:"cdatatable-td",targets:[0]},{className:"cdatatable-td",targets:[1]},{className:"cdatatable-td",targets:[2]},{className:"cdatatable-td",targets:[3]}],fnInitComplete:function(){$(".toggle-check").bootstrapToggle(),$(".datatable-surgeries").css("width","100%")},fnDrawCallback:function(){$(".toggle-check").bootstrapToggle()},lengthMenu:[[10,25,50,100,200,300,400,500],[10,25,50,100,200,300,400,500]]}).columns.adjust().draw()},changeStatus:function(){$(document).on("click",".toggle",function(){var t=$(this).find("input.toggle-check"),e=t.is(":checked")?"PUBLISHED":"DRAFT";$.ajax({type:"post",url:$(".datatable-surgeries").data("route-status"),data:{id:t.data("id"),status:e}}).done(function(t){}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){})})}},Exams={slug:function(){var t=$("#slug").data("route"),e=$("#name").val();$("#name").change(function(){var a=$("#name").val(),n=$("#id_exam").val();$("#btn-save").button("loading"),$.ajax({type:"post",url:t,dataType:"json",data:{title_before:e,title:a,id:n,mod:"exam"}}).done(function(t){$("#slug").val(t.data.slug);var e=$("#slug-url").data("slug")+"/"+t.data.slug;$("#slug-url").html(e),$("#slug-url").attr("href",e)}).fail(function(t){}).always(function(){$("#btn-save").button("reset")})}).change()},createExam:function(){var t=$("#exam"),e=t.validate({rules:{name:{required:!0,minlength:5},description:"required",image:"required"},messages:{name:{required:"El título es un campo requerido",minlength:"Escriba un título más largo"},description:"No ha agregado contenido",image:"No ha agregado una imagen"},ignore:":hidden, [contenteditable='true']:not([description])"});$("#btn-save").click(function(e){if(e.preventDefault(),t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("exam"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status){toastr.success(t.message,"!Exitoso!"),$("#exam")[0].reset(),$("#preparation").summernote("reset"),$("#indications").summernote("reset"),$("#description").summernote("reset"),$("#image-preview").css("background-image",""),$(".invalid-feedback").html(""),$("#office").val(null).trigger("change");var e=$("#slug-url").data("slug");$("#slug-url").html(e)}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#description").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},editExam:function(){var t=$("#exam"),e=$("#exam").validate({rules:{name:{required:!0,minlength:5},description:"required"},messages:{name:{required:"El título es un campo requerido",minlength:"Escriba un título más largo"},description:"No ha agregado contenido"},ignore:":hidden, [contenteditable='true']:not([description])"});$("#btn-save").click(function(e){if(t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("exam"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#description").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},editHTML:function(){$("#preparation").summernote({height:200}),$("#description").summernote({height:200}),$("#indications").summernote({height:200})},imageUpload:function(t){$.uploadPreview({input_field:"#image",preview_box:"#image-preview",label_field:"#image-label",label_default:t,label_selected:t})},allExams:function(){var t=$(".datatable-exams").data("route");$(".datatable-exams").DataTable({processing:!0,serverSide:!1,ajax:t,responsive:!0,order:[[1,"asc"]],columns:[{data:"name",width:"100px",render:function(t,e,a,n){return'<a href="'+a.route+'">'+t+"</a>"}},{data:"created",width:"120px"},{data:"status",width:"80px",render:function(t,e,a,n){return"DRAFT"==t?'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" data-on="Publicado" data-off="Borrador" data-onstyle="info" data-size="small">':'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" checked data-on="Publicado" data-off="Borrador"  data-onstyle="info" data-size="small">'}},{data:"route",visible:!1},{data:"id",visible:!1}],columnDefs:[{className:"cdatatable-td",targets:[0]},{className:"cdatatable-td",targets:[1]},{className:"cdatatable-td",targets:[2]},{className:"cdatatable-td",targets:[3]}],fnInitComplete:function(){$(".toggle-check").bootstrapToggle(),$(".datatable-exams").css("width","100%")},fnDrawCallback:function(){$(".toggle-check").bootstrapToggle()},lengthMenu:[[10,25,50,100,200,300,400,500],[10,25,50,100,200,300,400,500]]}).columns.adjust().draw()},changeStatus:function(){$(document).on("click",".toggle",function(){var t=$(this).find("input.toggle-check"),e=t.is(":checked")?"PUBLISHED":"DRAFT";$.ajax({type:"post",url:$(".datatable-exams").data("route-status"),data:{id:t.data("id"),status:e}}).done(function(t){}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){})})}},Specialty={slug:function(){var t=$("#slug").data("route"),e=$("#name").val();$("#name").change(function(){var a=$("#name").val(),n=$("#id_specialty").val();$("#btn-save").button("loading"),$.ajax({type:"post",url:t,dataType:"json",data:{title_before:e,title:a,id:n,mod:"specialty"}}).done(function(t){$("#slug").val(t.data.slug);var e=$("#slug-url").data("slug")+"/"+t.data.slug;$("#slug-url").html(e),$("#slug-url").attr("href",e)}).fail(function(t){}).always(function(){$("#btn-save").button("reset")})}).change()},editHTML:function(){$("#body").summernote({height:200})},editSpecialty:function(){var t=$("#specialty"),e=$("#specialty").validate({rules:{name:{required:!0,minlength:5},body:"required"},messages:{name:{required:"El título es un campo requerido",minlength:"Escriba un título más largo"},body:"No ha agregado contenido"},ignore:":hidden, [contenteditable='true']:not([body])"});$("#btn-save").click(function(e){if(t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("specialty"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#body").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},createSpecialty:function(){var t=$("#specialty"),e=t.validate({rules:{name:{required:!0,minlength:5},body:"required",image:"required"},messages:{name:{required:"El título es un campo requerido",minlength:"Escriba un título más largo"},body:"No ha agregado contenido",image:"No ha agregado una imagen"},ignore:":hidden, [contenteditable='true']:not([body])"});$("#btn-save").click(function(e){if(e.preventDefault(),t.valid()){$(this).button("loading");var a=new FormData(document.getElementById("specialty"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400==t.status&&$.each(t.data,function(t,e){$("."+t+"-error").html(e)}),200==t.status){toastr.success(t.message,"!Exitoso!"),$("#specialty")[0].reset(),$("#body").summernote("reset"),$("#image-preview").css("background-image",""),$(".invalid-feedback").html("");var e=$("#slug-url").data("slug");$("#slug-url").html(e)}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-save").button("reset")}),!1}}),$("#body").summernote({callbacks:{onChange:function(t,a){myElement.val(myElement.summernote("isEmpty")?"":t),e.element(myElement)}}})},imageUpload:function(t){$.uploadPreview({input_field:"#image",preview_box:"#image-preview",label_field:"#image-label",label_default:t,label_selected:t})},allSurgeries:function(){var t=$(".datatable-specialties").data("route");$(".datatable-specialties").DataTable({processing:!0,serverSide:!1,ajax:t,responsive:!0,order:[[4,"desc"]],columns:[{data:"name",width:"100px",render:function(t,e,a,n){return'<a href="'+a.route+'">'+t+"</a>"}},{data:"created",width:"120px"},{data:"status",width:"80px",render:function(t,e,a,n){return"DRAFT"==t?'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" data-on="Publicado" data-off="Borrador" data-onstyle="info" data-size="small">':'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" checked data-on="Publicado" data-off="Borrador"  data-onstyle="info" data-size="small">'}},{data:"route",visible:!1},{data:"id",visible:!1}],columnDefs:[{className:"cdatatable-td",targets:[0]},{className:"cdatatable-td",targets:[1]},{className:"cdatatable-td",targets:[2]},{className:"cdatatable-td",targets:[3]}],fnInitComplete:function(){$(".toggle-check").bootstrapToggle(),$(".datatable-specialties").css("width","100%")},fnDrawCallback:function(){$(".toggle-check").bootstrapToggle()},lengthMenu:[[10,25,50,100,200,300,400,500],[10,25,50,100,200,300,400,500]]}).columns.adjust().draw()},changeStatus:function(){$(document).on("click",".toggle",function(){var t=$(this).find("input.toggle-check"),e=t.is(":checked")?"PUBLISHED":"DRAFT";$.ajax({type:"post",url:$(".datatable-specialties").data("route-status"),data:{id:t.data("id"),status:e}}).done(function(t){}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){})})},selectSpecialty:function(t){var e=$("#specialty");e.select2({multiple:!0,tags:!1,placeholder:"...",maximumSelectionSize:6,minimumInputLength:1,tokenSeparators:[","," "],createTag:function(t){return{id:t.term,text:t.term}},templateResult:function(t){return t.name},templateSelection:function(t){return t.name},escapeMarkup:function(t){return t},ajax:{url:e.data("route"),dataType:"json",global:!1,cache:!0,delay:250,data:function(t){return{q:t.term}},processResults:function(t){return{results:t.data.tags}}}})},selectSpecialtyEdit:function(){$("#specialty").select2({tags:!1,multiple:!0,tokenSeparators:[","," "]})}},Agreement=function(){function t(t,e,a,n,o){var r="<tr>";return r+='<td width="35%">',r+='<img src="'+t+'" width="100%">',r+=" </td>",r+='<td width="30%" style="white-space: normal">',r+='<ul class="is-ges">',r+=e,r+="</ul>",r+=" </td>",r+='<td width="30%" style="white-space: normal">',r+=n,r+=' <ul class="is-cu">',r+=a,r+=" </ul>",r+="</td>",r+='<td width="5%">',r+='<button class="btn btn-primary min-tr btn-sm" data-key="'+o+'"><i class="ni ni-fat-delete" style="font-size: 18px"></i> </button>',r+="</td>",r+="</tr>"}function e(t){var e='<li data-img="'+t+'">';return e+='<div class="box-image nostatus">',e+='<button type="button" class="btn btn-success btn-sm pull-right conv-delete">x</button>',e+='<img src="'+t+'" width="100%">',e+="</div>",e+="</li>"}return{minTrFonasa:function(){var t=$(".table-fonasa > tbody");$(t).on("click",".min-tr-fon",function(t){t.preventDefault();$(this).parents("tr").index();var e=$("#fonasa-slug").val();return $(this).parents("tr").remove(),$.ajax({type:"post",url:$("#fonasa_add").data("route"),data:{index:$(this).data("key"),slug:e},dataType:"json"}).done(function(t){200==t.status&&toastr.success(t.message,"!Exitoso!"),400==t.status&&toastr.error(t.message,"!Error!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addfonasa").button("reset")}),!1})},minTr:function(){var t=$(".table-isapres > tbody");$(t).on("click",".min-tr",function(t){t.preventDefault();$(this).parents("tr").index();var e=$("#isapre_slug").val();return $(this).parents("tr").remove(),$.ajax({type:"post",url:$("#isapre_add").data("route"),data:{index:$(this).data("key"),slug:e},dataType:"json"}).done(function(t){200==t.status&&toastr.success(t.message,"!Exitoso!"),400==t.status&&toastr.error(t.message,"!Error!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addisapre").button("reset")}),!1})},addArancel:function(){var t=$("#arancel_add");$("#btn-addarancel").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("arancel_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){var e="",a="",n="",o="";if(400===t.status&&toastr.error(t.message,"!Error!"),200===t.status){var r=JSON.parse(t.data);$.each(r,function(t,r){o=t,e=r.title,a=r.route,n=r.pdf});var s=function(t,e,a,n){var o="<tr>";return o+="<td>",o+=' <a href="'+t+'">'+e+"</a>",o+="</td>",o+="<td>",o+=a,o+="</td>",o+="<td>",o+='<button class="btn btn-primary min-aran-tr btn-sm" data-key="'+n+'"><i class="ni ni-fat-delete" style="font-size: 18px"></i> </button>',o+="</td>",o+="</tr>"}(a,n,e,o);$(".table-arancel > tbody").append(s),toastr.success(t.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addarancel").button("reset")}),!1})},minTrArancel:function(){var t=$(".table-arancel > tbody");$(t).on("click",".min-aran-tr",function(t){t.preventDefault();$(this).parents("tr").index();var e=$("#arancel-slug").val();return $(this).parents("tr").remove(),$.ajax({type:"post",url:$("#arancel_add").data("route"),data:{index:$(this).data("key"),slug:e},dataType:"json"}).done(function(t){200==t.status&&toastr.success(t.message,"!Exitoso!"),400==t.status&&toastr.error(t.message,"!Error!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addarancel").button("reset")}),!1})},addGes:function(){var t=$(".add-ges-inp"),e=$(".is-ges"),a=1;$(t).click(function(){a<100&&(a++,$(e).append('<li><div class="input-group input-group-sm mb-3"><input type="text" class="form-control input-sm" name="isapreges[]" placeholder="" aria-label="" aria-describedby="basic-addon2"><div class="input-group-append"><button class="btn btn-primary min-ges-inp" type="button"><i class="ni ni-fat-delete " style=""></i></button></div></div></li>'))}),$(e).on("click",".min-ges-inp",function(t){t.preventDefault(),$(this).parents("li").remove(),a--})},addCu:function(){var t=$(".add-cu-inp"),e=$(".is-cu"),a=1;$(t).click(function(){a<100&&(a++,$(e).append('<li><div class="input-group input-group-sm mb-3"><input type="text" class="form-control input-sm" name="isaprecuenta[]" placeholder="" aria-label="" aria-describedby="basic-addon2"><div class="input-group-append"><button class="btn btn-primary min-cu-inp" type="button"><i class="ni ni-fat-delete" style=""></i></button></div></div></li>'))}),$(e).on("click",".min-cu-inp",function(t){t.preventDefault(),$(this).parents("li").remove(),a--})},imagesUpCon:function(t){$.uploadPreview({input_field:"#convenio-image",preview_box:"#convenio-image-preview",label_field:"#convenio-image-label",label_default:t,label_selected:t})},imagesUp:function(t){$.uploadPreview({input_field:"#isapre-image",preview_box:"#isapre-image-preview",label_field:"#isapre-image-label",label_default:t,label_selected:t})},imagesUpArancel:function(t){$.uploadPreview({input_field:"#arancel-image",preview_box:"#arancel-image-preview",label_field:"#arancel-image-label",label_default:t,label_selected:t})},imagesUpProm:function(t){$.uploadPreview({input_field:"#promo-image",preview_box:"#promo-image-preview",label_field:"#promo-image-label",label_default:t,label_selected:t})},imagesSubUpPago:function(t){$.uploadPreview({input_field:"#pago-image-sub",preview_box:"#pago-image-preview-sub",label_field:"#pago-image-label-sub",label_default:t,label_selected:t})},imagesUpPago:function(t){$.uploadPreview({input_field:"#pago-image",preview_box:"#pago-image-preview",label_field:"#pago-image-label",label_default:t,label_selected:t})},isapreAdd:function(){var e=$("#isapre_add");$("#btn-addisapre").click(function(a){$(this).button("loading");var n=new FormData(document.getElementById("isapre_add"));return e.validate({rules:{account_title:{required:!0,minlength:2}},messages:{account_title:{required:"El nombre de la cuenta es un campo requerido",minlength:"Escriba un nombre de cuenta más largo"}}}),$.ajax({type:"post",url:e.attr("action"),data:n,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(e){var a="",n="",o="",r="",s="";if(400==e.status&&toastr.error(e.message,"!Error!"),200==e.status){var i=JSON.parse(e.data);$.each(i,function(t,e){a=t,s=e.image,$.each(e,function(t,e){"ges"==t&&$.each(e,function(t,e){r+="<li>"+e.name+"</li>"}),"account"==t&&(o=e.title,$.each(e.content,function(t,e){n+="<li>"+e.name+"</li>"}))})});var l=t(s,r,n,o,a);$(".table-isapres tbody").append(l),toastr.success(e.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addisapre").button("reset")}),!1})},pagoAdd:function(){var t=$("#pago_add");$("#btn-addpago").click(function(){$(this).button("loading");var a=new FormData(document.getElementById("pago_add"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400===t.status&&toastr.error(t.message,"!Error!"),200===t.status){var a=e(t.data);$(".pago-sort").append(a),toastr.success(t.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addpago").button("reset")}),!1}),$(".pago-sort").on("click",".conv-delete",function(t){t.preventDefault(),$(this).parents("li").remove()})},convenioAdd:function(){var t=$("#convenio_add");$("#btn-addconvenio").click(function(){$(this).button("loading");var a=new FormData(document.getElementById("convenio_add"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400===t.status&&toastr.error(t.message,"!Error!"),200===t.status){var a=e(t.data);$("#sortable").append(a),toastr.success(t.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addconvenio").button("reset")}),!1}),$("#sortable").on("click",".conv-delete",function(t){t.preventDefault(),$(this).parents("li").remove()})},fonasaAdd:function(){var t=$("#fonasa_add");$("#btn-addfonasa").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("fonasa_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){var e="",a="",n="";if(400===t.status&&toastr.error(t.message,"!Error!"),200===t.status){var o=JSON.parse(t.data);$.each(o,function(t,o){n=t,e=o.subtitle,a=o.subdescription});var r=function(t,e,a){var n="<tr>";return n+='<td width="20%">',n+=t,n+="</td>",n+=' <td width="75%" style="white-space: normal">',n+=e,n+="</td>",n+=' <td width="5%">',n+='<button class="btn btn-primary btn-sm min-tr-fon" data-key="'+a+'"><i class="ni ni-fat-delete" style="font-size: 18px"></i> </button>',n+="</td>",n+="</tr>"}(e,a,n);$(".table-fonasa tbody").append(r),toastr.success(t.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addfonasa").button("reset")}),!1})},saveIsapre:function(){var t=$("#isapre");$("#isapre-btn-save").click(function(e){$(this).button("loading");var a=new FormData(document.getElementById("isapre"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#isapre-btn-save").button("reset")}),!1})},saveFonasa:function(){var t=$("#fonasa");$("#fonasa-btn-save").click(function(e){$(this).button("loading");var a=new FormData(document.getElementById("fonasa"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#fonasa-btn-save").button("reset")}),!1})},saveArancel:function(){var t=$("#arancel");$("#arancel-btn-save").click(function(e){$(this).button("loading");var a=new FormData(document.getElementById("arancel"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#arancel-btn-save").button("reset")}),!1})},saveProm:function(){var t=$("#promo");$("#promo-btn-save").click(function(e){$(this).button("loading");var a=new FormData(document.getElementById("promo"));return $.ajax({type:"post",url:t.attr("action"),data:a,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#promo-btn-save").button("reset")}),!1})},savePago:function(){var t=$("#pago");$("#pago-btn-save").click(function(e){$(this).button("loading");var a=$("#pago-title").val(),n=$("#pago-slug").val(),o=$("#pago-status").val(),r=$("textarea#pago-description").val(),s=[],i=1;return $("ul.pago-sort > li").each(function(){s.push({id:i,img:$(this).data("img")}),i++}),$.ajax({type:"post",url:t.attr("action"),data:{slug:n,title:a,description:r,list:s,status:o},dataType:"json"}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#pago-btn-save").button("reset")}),!1})},saveConvenio:function(){var t=$("#convenio");$("#convenio-btn-save").click(function(e){$(this).button("loading");var a=$("#convenio-title").val(),n=$("#convenio-slug").val(),o=$("#convenio-status").val(),r=$("textarea#convenio-description").val(),s=[],i=1;return $("ul#sortable > li").each(function(){s.push({id:i,img:$(this).data("img")}),i++}),$.ajax({type:"post",url:t.attr("action"),data:{slug:n,title:a,description:r,list:s,status:o},dataType:"json"}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#convenio-btn-save").button("reset")}),!1})},showAgreements:function(){return $.ajax({type:"post",url:$(".agreements-content").data("route"),dataType:"json"}).done(function(e){var a="",n="",o="",r="",s="";if(400==e.status&&toastr.error(e.message,"!Error!"),200==e.status){var i=JSON.parse(e.data);$.each(i,function(t,e){a=t,s=e.image,$.each(e,function(t,e){"ges"==t&&$.each(e,function(t,e){r+="<li>"+e.name+"</li>"}),"account"==t&&(o=e.title,$.each(e.content,function(t,e){n+="<li>"+e.name+"</li>"}))})});var l=t(s,r,n,o,a);$(".table-isapres tbody").append(l),toastr.success(e.message,"!Exitoso!")}toastr.success(e.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}),!1},imageUpload:function(t){$.uploadPreview({input_field:"#fonasa-image",preview_box:"#image-preview",label_field:"#image-label",label_default:t,label_selected:t})},pagoDropzone:function(){Dropzone.options.myAwesomeDropzone={paramName:"image",maxFilesize:30,url:"UploadImages",previewsContainer:"#dropzone-previews",uploadMultiple:!0,parallelUploads:5,maxFiles:30,addRemoveLinks:!0,init:function(){this.on("success",function(t,e){$(".dz-progress").hide(),$(".dz-size").hide(),$(".dz-error-mark").hide(),console.log(e),console.log(t),e}),this.on("addedfile",function(t){var e=(new Date).getTime();title=null==t.title?"":t.title,t._titleLabel=Dropzone.createElement("<p>Title:</p>"),t._titleBox=Dropzone.createElement("<input id='"+t.name+e+"_title' type='text' name='title' value="+title+" >"),t.previewElement.appendChild(t._titleLabel),t.previewElement.appendChild(t._titleBox),description=null==t.description?"":t.description,t._descriptionLabel=Dropzone.createElement("<p>Description:</p>"),t._descriptionBox=Dropzone.createElement("<input id='"+t.name+e+"_desc' type='text' name='description' value="+description+" >"),t.previewElement.appendChild(t._descriptionLabel),t.previewElement.appendChild(t._descriptionBox)}),this.on("removedfile",function(t){for(var e="",a=0;a<fileList.length;a++)fileList[a].fileName==t.name&&(e=fileList[a].serverFileName);e&&$.ajax({url:path,type:"POST",data:{filenamenew:e,type:"delete"}})})}}},editHTMLFonasa:function(){$("#fonasa-description").summernote({height:150})},editHTMLIsapre:function(){$("#isapre-description").summernote({height:150})},editHTMLConvenio:function(){$("#convenio-description").summernote({height:150})},editHTMLProm:function(){$("#promo-description").summernote({height:150})},editHTMLArancel:function(){$("#arancel-description").summernote({height:150})},editHTMLPago:function(){$("#pago-description").summernote({height:150})}}}(),Core={dropdown:function(){$(".user-click").click(function(){$(".dropdown-menu-right").hasClass("show")?($(".dropdown-menu-right").removeClass("show"),$(".dropdown-drop").removeClass("show")):($(".dropdown-menu-right").addClass("show"),$(".dropdown-drop").addClass("show"))})},sortableImg:function(){$(".sortable").sortable(),$(".sortable").disableSelection()},removeImg:function(){$(".removeImg").click(function(){$(".imgBase64").val(""),$(".imgurl").val(""),$(".img-style").css({background:""})})}},User={allUsers:function(){var t=$(".datatable-users").data("route");$(".datatable-users").DataTable({processing:!0,serverSide:!1,ajax:t,responsive:!0,order:[[4,"desc"]],columns:[{data:"name",width:"100px"},{data:"email",width:"100px"},{data:"created",width:"120px"},{data:"active",width:"80px",render:function(t,e,a,n){return"INACTIVE"==t?'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" data-on="Activo" data-off="Inactivo" data-onstyle="info" data-size="small">':'<input type="checkbox" class="toggle-check" data-id="'+a.id+'" data-toggle="toggle" checked data-on="Activo" data-off="Inactivo"  data-onstyle="info" data-size="small">'}},{data:"id",visible:!1}],columnDefs:[{className:"cdatatable-td",targets:[0]},{className:"cdatatable-td",targets:[1]},{className:"cdatatable-td",targets:[2]},{className:"cdatatable-td",targets:[3]}],fnInitComplete:function(){$(".toggle-check").bootstrapToggle(),$(".datatable-users").css("width","100%")},fnDrawCallback:function(){$(".toggle-check").bootstrapToggle()},lengthMenu:[[10,25,50,100,200,300,400,500],[10,25,50,100,200,300,400,500]]}).columns.adjust().draw()},changeStatus:function(){$(document).on("click",".toggle",function(){var t=$(this).find("input.toggle-check"),e=t.is(":checked")?"ACTIVE":"INACTIVE";$.ajax({type:"post",url:$(".datatable-users").data("route-status"),data:{id:t.data("id"),status:e}}).done(function(t){}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){})})}},Configuration=function(){return{imagesUpSlide:function(t){$.uploadPreview({input_field:"#slide-image",preview_box:"#slide-image-preview",label_field:"#slide-image-label",label_default:t,label_selected:t})},imagesUpQuery:function(t){$.uploadPreview({input_field:"#query-image",preview_box:"#query-image-preview",label_field:"#query-image-label",label_default:t,label_selected:t})},queryAdd:function(){var t=$("#query_add");$("#btn-addquery").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("query_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400===t.status&&toastr.error(t.message,"!Error!"),200===t.status){var e=t.data.image,a=t.data.description,n=t.data.imgurl,o=function(t,e,a,n,o){var r='<li data-img="'+t+'" data-desc="'+e+'" data-title="'+n+'" data-check="'+a+'" style="background-image: url('+o+') ">';return r+='<div class="box-image nostatus">',r+='<button type="button" class="btn btn-success btn-sm pull-right query-delete">x</button>',r+='<label class="checkcontent pull-right">',r+='<input type="checkbox" class="btn check-query" checked>',r+='<span class="checkmark"></span>',r+="</label>",null===n&&null===e||(r+=n),r+="</div>",r+="</li>"}(e,a,"active",t.data.title,n);$(".sortable-query").append(o),$("#modal-addquery").modal("hide"),toastr.success(t.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addquery").button("reset")}),!1}),$(".sortable-query").on("click",".query-delete",function(t){t.preventDefault(),$(this).parents("li").remove()}),$(".sortable-query").on("change",".check-query",function(t){t.preventDefault();var e=$(this).is(":checked")?"active":"inactive";$(this).parents("li").data("check",e)})},saveQuery:function(){$("#query-btn-save").click(function(t){$(this).button("loading");var e=$("#query-slug").val(),a=[],n=1;$(this).find(".check-query").is(":checked");return $("ul.sortable-query > li").each(function(){a.push({id:n,img:$(this).data("img"),description:$(this).data("desc"),title:$(this).data("title"),active:$(this).data("check")}),n++}),$.ajax({type:"post",url:$(this).data("url"),data:{slug:e,list:a},dataType:"json"}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#query-btn-save").button("reset")}),!1})},slideAdd:function(){var t=$("#slide_add");$("#btn-addslide").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("slide_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){if(400===t.status&&toastr.error(t.message,"!Error!"),200===t.status){var e=t.data.image,a=t.data.description,n=t.data.imgurl,o=function(t,e,a,n,o){var r='<li data-img="'+t+'" data-desc="'+e+'" data-title="'+n+'" data-check="'+a+'" style="background-image: url('+o+') ">';return r+='<div class="box-image nostatus">',r+='<button type="button" class="btn btn-success btn-sm pull-right slide-delete">x</button>',r+='<label class="checkcontent pull-right">',r+='<input type="checkbox" class="btn check-slide" checked>',r+='<span class="checkmark"></span>',r+="</label>",null===n&&null===e||(r+=n),r+="</div>",r+="</li>"}(e,a,"active",t.data.title,n);$(".sortable-slide").append(o),$("#modal-addslide").modal("hide"),toastr.success(t.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addslide").button("reset")}),!1}),$(".sortable-slide").on("click",".slide-delete",function(t){t.preventDefault(),$(this).parents("li").remove()}),$(".sortable-slide").on("change",".check-slide",function(t){t.preventDefault();var e=$(this).is(":checked")?"active":"inactive";$(this).parents("li").data("check",e)})},saveSlide:function(){$("#slide-btn-save").click(function(t){$(this).button("loading");var e=$("#slide-slug").val(),a=[],n=1;$(this).find(".check-slide").is(":checked");return $("ul.sortable-slide > li").each(function(){a.push({id:n,img:$(this).data("img"),description:$(this).data("desc"),title:$(this).data("title"),active:$(this).data("check")}),n++}),$.ajax({type:"post",url:$(this).data("url"),data:{slug:e,list:a},dataType:"json"}).done(function(t){toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#slide-btn-save").button("reset")}),!1})},savePagesDescription:function(){var t=$("#pages_add");$("#pages-btn-save").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("pages_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400===t.status&&toastr.error(t.message,"!Error!"),200===t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#pages-btn-save").button("reset")}),!1})},saveRRSS:function(){var t=$("#rrss_add");$("#rrss-btn-save").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("rrss_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400===t.status&&toastr.error(t.message,"!Error!"),200===t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#rrss-btn-save").button("reset")}),!1})},saveAboutUs:function(){var t=$("#aboutus_add");$("#aboutus-btn-save").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("aboutus_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400===t.status&&toastr.error(t.message,"!Error!"),200===t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#aboutus-btn-save").button("reset")}),!1})},saveContact:function(){var t=$("#contact_add");$("#contact-btn-save").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("contact_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400===t.status&&toastr.error(t.message,"!Error!"),200===t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#contact-btn-save").button("reset")}),!1})},savePopup:function(){var t=$("#popup_add");$("#popup-btn-save").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("popup_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400===t.status&&toastr.error(t.message,"!Error!"),200===t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#popup-btn-save").button("reset")}),!1})},editHTMLPopup:function(){$("#popup-description").summernote({height:150})},editHTMLAboutus:function(){$("#aboutus-description").summernote({height:150})},editHTMLContact:function(){$("#contact-description").summernote({height:150})},addEmailContact:function(){var t=$(".add-email"),e=1;$(t).click(function(){var t=$(this).data("office"),a=".ul-"+t,n=function(t){var e='<li class="li-'+t+'">';return e+='<div class="input-group input-group-sm mb-3">',e+='<input type="text" class="form-control input-sm" name="'+t+'[]" placeholder="" aria-label="" aria-describedby="basic-addon2">',e+='<div class="input-group-append">',e+='<button class="btn btn-primary delete-email" type="button" data-office="'+t+'"><i class="ni ni-fat-delete " style=""></i></button>',e+="</div>",e+="</div>",e+="</li>"}(t);e<100&&(e++,$(a).append(n))}),$(document).on("click",".delete-email",function(t){t.preventDefault();var a=".li-"+$(this).data("office");$(this).parents(a).remove(),e--})},selectSpecialty:function(t){var e=$("#specialty");e.select2({multiple:!0,tags:!1,placeholder:"...",maximumSelectionSize:4,minimumInputLength:3,tokenSeparators:[","," "],createTag:function(t){return{id:t.term,text:t.term}},templateResult:function(t){return t.name},templateSelection:function(t){return t.name},escapeMarkup:function(t){return t},ajax:{url:e.data("route"),dataType:"json",global:!1,cache:!0,delay:250,data:function(t){return{q:t.term}},processResults:function(t){return{results:t.data.tags}}}})},addPdf:function(){var t=$("#politicas_add");$("#btn-addpoliticas").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("politicas_add"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){var e="",a="",n="",o="";if(400===t.status&&toastr.error(t.message,"!Error!"),200===t.status){var r=JSON.parse(t.data);$.each(r,function(t,r){o=t,e=r.title,a=r.route,n=r.pdf});var s=function(t,e,a,n){var o="<tr>";return o+="<td>",o+=' <a href="'+t+'">'+e+"</a>",o+="</td>",o+="<td>",o+=a,o+="</td>",o+="<td>",o+='<button class="btn btn-primary min-pol-tr btn-sm" data-key="'+n+'"><i class="ni ni-fat-delete" style="font-size: 18px"></i> </button>',o+="</td>",o+="</tr>"}(a,n,e,o);$(".table-politica > tbody").append(s),toastr.success(t.message,"!Exitoso!")}}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addpoliticas").button("reset")}),!1})},minTrPolitica:function(){var t=$(".table-politica > tbody");$(t).on("click",".min-pol-tr",function(t){t.preventDefault();$(this).parents("tr").index();var e=$("#politica-slugg").val();return $(this).parents("tr").remove(),$.ajax({type:"post",url:$("#politica_add").data("route"),data:{index:$(this).data("key"),slug:e},dataType:"json"}).done(function(t){200==t.status&&toastr.success(t.message,"!Exitoso!"),400==t.status&&toastr.error(t.message,"!Error!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#btn-addpolitica").button("reset")}),!1})},saveSpecialties:function(){var t=$("#politicas");$("#home-btn-save").click(function(){$(this).button("loading");var e=new FormData(document.getElementById("politicas"));return $.ajax({type:"post",url:t.attr("action"),data:e,dataType:"json",cache:!1,contentType:!1,processData:!1}).done(function(t){400===t.status&&toastr.error(t.message,"!Error!"),200===t.status&&toastr.success(t.message,"!Exitoso!")}).fail(function(t){toastr.error(t.message,"!Error!")}).always(function(){$("#home-btn-save").button("reset")}),!1})}}}();
